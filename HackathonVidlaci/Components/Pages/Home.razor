@page "/"
@using HackathonVidlaci.Classes
@using HackathonVidlaci.Components
@inject IJSRuntime Js
@rendermode InteractiveServer
@inject HradyContext hradyContext
@inject HrobyContext hrobyContext
@inject DivadlaContext divadlaContext
@inject ZamkyContext zamkyContext
@inject KulturniDomyContext kulturniDomyContext
@inject TechnickePamatkyContext technickePamatkyContext
<PageTitle>PamatkyNaHadky</PageTitle>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        body {
            background-color: #212529; /* Dark brown background */
        }

        h1 {
            color: #f8f9fa; /* Bright orange for the title */
        }

        p {
            color: #e9ecef; /* Medium orange-brown for the paragraph */
        }
        label{
            color: #e9ecef;
        }

        select, input {
            border-color: #101418; /* Dark red-brown for form borders */

        }     
        select:focus, input:focus {
                box-shadow: 0 0 5px rgba(255, 255, 255, 1) !important;
        }
        


        .container {
            display: flex;
            gap: 20px; /* Adds space between the form and the map */
            align-items: flex-start; /* Aligns the items at the top */
        }

        /* Make the form slimmer and the map wider */
        .form-group {
            flex: 1; /* The form takes up 1 part of the available space */
            max-width: 30%; /* Restrict form width */
        }

        .map-container {
            flex: 4; /* The map takes up 4 parts of the available space */
            height: 800px; /* Keep the height fixed */
            background-color: #101418; /* Dark red-brown map placeholder */
            border: 2px solid #e9ecef; /* Medium orange-brown border */
        }

        .header {
            text-align: center; /* Center-align the heading and paragraph */
            margin-bottom: 30px; /* Add spacing below the header */
        }

        .dropdown {
            position: relative;
            display: inline-block;
            width: 100%; /* Full width */
        }

        .dropdown-toggle {
            padding: 10px;
            background-color: #101418; /* Match to form border color */
            color: white;
            border: 2px solid #101418; /* Same border as form elements */
            cursor: pointer;
            width: 100%; /* Full width */
            border-radius: 0.6rem;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #000210; /* Dark brown for the dropdown background */
            min-width: 100%; /* Match the width of the dropdown */
            border: 2px solid #000420; /* Match form border */
            z-index: 1;
            padding: 10px;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Orange shadow for dropdown */
        }

        .dropdown:hover .dropdown-content {
            display: block; /* Show dropdown on hover */
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5)
        }

        .checkbox-label {
            display: block; /* Each checkbox on a new line */
            padding: 5px 0;
            cursor: pointer;
        }

            .checkbox-label:hover {
                background-color: #000420; /* Highlight on hover with dark red-brown */
            }
    </style>

</head>

<!-- Header Section -->
<div class="header">
    <h1>Památky Na Hádky</h1>
    <p>Zde najdete zábavu pro vás i celou vaši rodinu</p>
</div>

<!-- Flexbox container for form and map -->
<div class="container">
    <!-- Form Section -->

    <EditForm Model="@Data" class="form-group" OnValidSubmit="Submit">
        
        
             
        <label >Vzdálenost (Km)</label>
            
        
      
    
        <input type="number" max="2000" min="0" id="AgeID" name="AgeName" @bind-BindingValue="@Data.Vzdalenost" @bind-BindingValue:event="onInput" class="form-control" />
        <div class="dropdown mt-3">
            <label class="dropdown-toggle">Vyberte možnosti</label>
            <div class="dropdown-content">
                <label class="checkbox-label">
                    <InputCheckbox id="CheckHrad" @bind-Value="@Data.Hrad"  /> Hrad
                    
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckZamek" @bind-Value="@Data.Zamek" /> Zamek
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckKulturPam" @bind-Value="@Data.KulturniPamatky" /> Kulturní památky
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckTech" @bind-Value="@Data.Technicke" /> Technické
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckHrob" @bind-Value="@Data.ValecneHroby" /> Válečné hroby
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckDivadla" @bind-Value="@Data.Divadla" /> Divadla
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckKultDum" @bind-Value="@Data.Kulturak" /> Kulturní domy
                </label>               
                <label class="checkbox-label">
                    <InputCheckbox id="CheckMuzea" @bind-Value="@Data.Muzea" /> Muzea
                </label>
            </div>

           
        </div>
        <br />
        <button class="btn btn-primary" type="submit">Submit</button>
    </EditForm>

    <!-- Map Section -->
    <div class="map-container" id="map">
        <p style="text-align: center; color: #475c6c;">Mapa zde</p>
    </div>
</div>

<MapPage @ref="mapp"></MapPage>


@code{
    MapPage mapp;
    public void Submit()
    {
       
      

        mapp.ReadDB(Data);
    }
}
