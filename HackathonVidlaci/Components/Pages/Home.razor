@page "/"
@using HackathonVidlaci.Classes
@using HackathonVidlaci.Components
@inject IJSRuntime Js
@rendermode InteractiveServer
@inject HradyContext hradyContext
@inject HrobyContext hrobyContext
@inject DivadlaContext divadlaContext
@inject ZamkyContext zamkyContext
@inject KulturniDomyContext kulturniDomyContext
@inject TechnickePamatkyContext technickePamatkyContext
<PageTitle>PamatkyNaHadky</PageTitle>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        body {
            background-color: #f7efd3; /* Light cream background */
        }

        h1 {
            color: #475c6c; /* Dark blue-grey for the title */
        }

        p {
            color: #8a8583; /* Medium grey for the paragraph */
        }

        select, input {
            border-color: #cd8b62; /* Warm terracotta for form borders */
        }

        select:focus, input:focus {
            border-color: #475c6c; /* Dark blue-grey on focus */
            box-shadow: 0 0 5px rgba(71, 92, 108, 0.5);
        }

        .container {
            display: flex;
            gap: 20px; /* Adds space between the form and the map */
            align-items: flex-start; /* Aligns the items at the top */
        }

        /* Make the form slimmer and the map wider */
        .form-group {
            flex: 1; /* The form takes up 1 part of the available space */
            max-width: 30%; /* Restrict form width */
        }

        .map-container {
            flex: 4; /* The map takes up 4 parts of the available space */
            height: 400px; /* Keep the height fixed */
            background-color: #eed7a1; /* Soft beige map placeholder */
            border: 2px solid #cd8b62; /* Terracotta border */
        }

        .header {
            text-align: center; /* Center-align the heading and paragraph */
            margin-bottom: 30px; /* Add spacing below the header */
        }

        .dropdown {
            position: relative;
            display: inline-block;
            width: 100%; /* Full width */
        }

        .dropdown-toggle {
            padding: 10px;
            background-color: #cd8b62; /* Match to form border color */
            color: white;
            border: 2px solid #cd8b62; /* Same border as form elements */
            cursor: pointer;
            width: 100%; /* Full width */
            border-radius: 0.6rem;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 100%; /* Match the width of the dropdown */
            border: 2px solid #cd8b62; /* Match form border */
            z-index: 1;
            padding: 10px;
            box-shadow: 0 0 5px rgba(71, 92, 108, 0.5); /* Subtle shadow for dropdown */
        }

        .dropdown:hover .dropdown-content {
            display: block; /* Show dropdown on hover */
        }

        .checkbox-label {
            display: block; /* Each checkbox on a new line */
            padding: 5px 0;
            cursor: pointer;
            
        }

        .checkbox-label:hover {
            background-color: #f1f1f1; /* Highlight on hover */
        }
    </style>
</head>

<!-- Header Section -->
<div class="header">
    <h1>Památky Na Hádky</h1>
    <p>Zde najdete zábavu pro vás i celou vaši rodinu</p>
</div>

<!-- Flexbox container for form and map -->
<div class="container">
    <!-- Form Section -->
    <EditForm Model="@Data" class="form-group" OnValidSubmit="Submit">
        
        
        <!-- Dropdown with Checkboxes -->
        <div class="dropdown mt-3">
            <label class="dropdown-toggle">Vyberte možnosti</label>
            <div class="dropdown-content">
                <label class="checkbox-label">
                    <InputCheckbox id="CheckHrad" @bind-Value="@Data.Hrad"  /> Hrad
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckZamek" @bind-Value="@Data.Zamek" /> Zamek
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckKulturPam" @bind-Value="@Data.KulturniPamatky" /> Kulturní památky
                </label>
                <label class="checkbox-label">
                    <InputCheckbox id="CheckTech" @bind-Value="@Data.Technicke" /> Technické
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckHrob" @bind-Value="@Data.ValecneHroby" /> Válečné hroby
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckDivadla" @bind-Value="@Data.Divadla" /> Divadla
                </label>                
                <label class="checkbox-label">
                    <InputCheckbox id="CheckKultDum" @bind-Value="@Data.Kulturak" /> Kulturní domy
                </label>               
                <label class="checkbox-label">
                    <InputCheckbox id="CheckMuzea" @bind-Value="@Data.Muzea" /> Muzea
                </label>
            </div>

           
        </div>
        <br />
        <button class="btn btn-primary" type="submit">Submit</button>
    </EditForm>

    <!-- Map Section -->
    <div class="map-container" id="map">
        <p style="text-align: center; color: #475c6c;">Mapa zde</p>
    </div>
</div>

<MapPage @ref="mapp"></MapPage>


@code{
    MapPage mapp;
    public void Submit()
    {
       
      

        mapp.ReadDB(Data);
    }
}
