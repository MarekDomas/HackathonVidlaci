@page "/"
@using HackathonVidlaci.Classes

<PageTitle>PamatkyNaHadky</PageTitle>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        body {
            background-color: #212529; /* Dark brown background */
        }

        h1 {
            color: #f8f9fa; /* Bright orange for the title */
        }

        p {
            color: #e9ecef; /* Medium orange-brown for the paragraph */
        }
        label{
            color: #e9ecef;
        }

        select, input {
            border-color: #101418; /* Dark red-brown for form borders */

        }     
        select:focus, input:focus {
                box-shadow: 0 0 5px rgba(255, 255, 255, 1) !important;
        }
        


        .container {
            display: flex;
            gap: 20px; /* Adds space between the form and the map */
            align-items: flex-start; /* Aligns the items at the top */
        }

        /* Make the form slimmer and the map wider */
        .form-group {
            flex: 1; /* The form takes up 1 part of the available space */
            max-width: 30%; /* Restrict form width */
        }

        .map-container {
            flex: 4; /* The map takes up 4 parts of the available space */
            height: 750px; /* Keep the height fixed */
            background-color: #101418; /* Dark red-brown map placeholder */
            border: 2px solid #e9ecef; /* Medium orange-brown border */
        }

        .header {
            text-align: center; /* Center-align the heading and paragraph */
            margin-bottom: 30px; /* Add spacing below the header */
        }

        .dropdown {
            position: relative;
            display: inline-block;
            width: 100%; /* Full width */
        }

        .dropdown-toggle {
            padding: 10px;
            background-color: #101418; /* Match to form border color */
            color: white;
            border: 2px solid #101418; /* Same border as form elements */
            cursor: pointer;
            width: 100%; /* Full width */
            border-radius: 0.6rem;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #000210; /* Dark brown for the dropdown background */
            min-width: 100%; /* Match the width of the dropdown */
            border: 2px solid #000420; /* Match form border */
            z-index: 1;
            padding: 10px;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Orange shadow for dropdown */
        }

        .dropdown:hover .dropdown-content {
            display: block; /* Show dropdown on hover */
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5)
        }

        .checkbox-label {
            display: block; /* Each checkbox on a new line */
            padding: 5px 0;
            cursor: pointer;
        }

            .checkbox-label:hover {
                background-color: #000420; /* Highlight on hover with dark red-brown */
            }
    </style>

</head>

<!-- Header Section -->
<div class="header">
    <h1>Památky Na Hádky</h1>
    <p>Zde najdete zábavu pro vás i celou vaši rodinu</p>
</div>

<!-- Flexbox container for form and map -->
<div class="container">
    <!-- Form Section -->
    <Form class="form-group">
        <div>
            <label for="SexID">Pohlaví</label>
            <select name="SexName" id="SexID" class="form-control ">
                <option selected disabled>...</option>
                <option>Muž</option>
                <option>Žena</option>
                <option>Útočná helikoptéra</option>
                <option>Nechci uvádět</option>
            </select>
        </div>
        <div>
            <label for="AgeID">Věk</label>
            <Input type="number" max="99" id="AgeID" name="AgeName" class="form-control " />
        </div>
        <div>
            <label for="kidsNumberID">Počet dětí</label>
            <input id="kidsNumberID" name="KidsNumberName" type="number" min="0" class="form-control " />
        </div>
        <div>
            <label for="timeID">Délka zábavy</label>
            <input type="time" max="12:00" step="600" class="form-control " />
        </div>
        <div>
            <label for="budgetID">Rozpočet (KČ)</label>
            <input type="number" class="form-control " />
        </div>
        <div>
            <label for="transportID">Možnost přepravy</label>
            <select class="form-control ">
                <option selected disabled>...</option>
                <option>Automobil</option>
                <option>Pěšky</option>
                <option>MHD</option>
            </select>
        </div>
        
        <!-- Dropdown with Checkboxes -->
        <div class="dropdown mt-3">
            <label class="dropdown-toggle">Vyberte možnosti</label>
            <div class="dropdown-content">
                <label class="checkbox-label">
                    <input id="CheckHrad" type="checkbox" /> Hrad
                </label>
                <label class="checkbox-label">
                    <input id="CheckZamek" type="checkbox" /> Zamek
                </label>
                <label class="checkbox-label">
                    <input id="CheckKulturPam" type="checkbox" /> Kulturní památky
                </label>
                <label class="checkbox-label">
                    <input id="CheckTech" type="checkbox" /> Technické
                </label>                
                <label class="checkbox-label">
                    <input id="CheckHrob" type="checkbox" /> Válečné hroby
                </label>                
                <label class="checkbox-label">
                    <input id="CheckDivadla" type="checkbox" /> Divadla
                </label>                
                <label class="checkbox-label">
                    <input id="CheckKultDum" type="checkbox" /> Kulturní domy
                </label>               
                <label class="checkbox-label">
                    <input id="CheckMuzea" type="checkbox" /> Muzea
                </label>
            </div>
        </div>
    </Form>

    <!-- Map Section -->
    <div class="map-container" id="map">
        <p style="text-align: center; color: #475c6c;">Mapa zde</p>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script>
    var map = L.map('map').setView([50.2042646, 15.8267867], 13); // Default location (London)

    // Load and display a tile layer on the map (OpenStreetMap tiles)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // Check if geolocation is available
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
            // Get user's current coordinates
            var lat = position.coords.latitude;
            var lon = position.coords.longitude;

            // Update the map to the user's location
            map.setView([lat, lon], 13);

            // Add a marker at the user's current location
            L.marker([lat, lon]).addTo(map)
                .bindPopup("Jste zde!")
                .openPopup();
        }, function (error) {
            alert("Nepodařilo se nám získat Vaši lokaci z důvodu: " + error.message);
        });
    } else {
        alert("Geolokace není podporována ve Vašem prohlížeči.");
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HZ5S65z4FcAz7QHnA9EjZCQKNjDd6V/QfbuSnP0MtXMQXpTFU/yICp8HkmMfQ0zz"
        crossorigin="anonymous"></script>
